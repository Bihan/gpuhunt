import pytest

import gpuhunt._internal.catalog as internal_catalog
from gpuhunt import Catalog
from gpuhunt.providers.vultr import RawCatalogItem, VultrProvider

# Sample mock return value
machine_types = [
    RawCatalogItem(
        instance_name="vc2-1c-0.5gb-free",
        location="sea",
        price=0,
        cpu=1,
        memory=0.5,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=10,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-1c-1gb",
        location="ewr",
        price=0.007,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-1c-1gb",
        location="ewr",
        price=0.008,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=32,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-1gb-amd",
        location="ewr",
        price=0.008,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-1gb-intel",
        location="ewr",
        price=0.008,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-1c-1gb-sc1",
        location="sao",
        price=0.01,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-1c-1gb-sc1",
        location="sao",
        price=0.012,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=32,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-1gb-amd-sc1",
        location="sao",
        price=0.012,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-1gb-intel-sc1",
        location="sao",
        price=0.012,
        cpu=1,
        memory=1.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=25,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-1c-2gb",
        location="ewr",
        price=0.014,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=55,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-1c-2gb",
        location="ewr",
        price=0.016,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=64,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-2gb-amd",
        location="ewr",
        price=0.016,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=50,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-2gb-intel",
        location="ewr",
        price=0.016,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=50,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-1c-2gb-sc1",
        location="sao",
        price=0.021,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=55,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-2c-2gb",
        location="ewr",
        price=0.021,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=65,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-1c-2gb-sc1",
        location="sao",
        price=0.025,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=64,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-2c-2gb",
        location="ewr",
        price=0.025,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=80,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-2gb-amd-sc1",
        location="sao",
        price=0.025,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=50,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-2gb-amd",
        location="ewr",
        price=0.025,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=60,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-1c-2gb-intel-sc1",
        location="sao",
        price=0.025,
        cpu=1,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=50,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-2gb-intel",
        location="ewr",
        price=0.025,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=60,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-2c-4gb",
        location="ewr",
        price=0.027,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=80,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-2c-2gb-sc1",
        location="sao",
        price=0.031,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=65,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-2c-4gb",
        location="ewr",
        price=0.033,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=128,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-4gb-amd",
        location="ewr",
        price=0.033,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=100,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-4gb-intel",
        location="ewr",
        price=0.033,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=100,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-2c-2gb-sc1",
        location="sao",
        price=0.037,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=80,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-2gb-amd-sc1",
        location="sao",
        price=0.037,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=60,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-2gb-intel-sc1",
        location="sao",
        price=0.037,
        cpu=2,
        memory=2.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=60,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-2c-4gb-sc1",
        location="sao",
        price=0.041,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=80,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-2c-4gb-sc1",
        location="sao",
        price=0.049,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=128,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-4gb-amd-sc1",
        location="sao",
        price=0.049,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=100,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-2c-4gb-intel-sc1",
        location="sao",
        price=0.049,
        cpu=2,
        memory=4.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=100,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-4c-8gb",
        location="ewr",
        price=0.055,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=160,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-2c-8g-2vram",
        location="ewr",
        price=0.059,
        cpu=2,
        memory=8.0,
        gpu_count=0,
        gpu_name="A16",
        gpu_memory=2,
        spot=False,
        disk_size=50,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vhf-3c-8gb",
        location="ewr",
        price=0.066,
        cpu=3,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=256,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-8gb-amd",
        location="ewr",
        price=0.066,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=180,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-8gb-intel",
        location="ewr",
        price=0.066,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=180,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-1c-5g-2vram",
        location="ewr",
        price=0.075,
        cpu=1,
        memory=5.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=2,
        spot=False,
        disk_size=90,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vc2-4c-8gb-sc1",
        location="sao",
        price=0.082,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=160,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-3c-8gb-sc1",
        location="sao",
        price=0.099,
        cpu=3,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=256,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-8gb-amd-sc1",
        location="sao",
        price=0.099,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=180,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-12gb-amd",
        location="ewr",
        price=0.099,
        cpu=4,
        memory=12.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=260,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-8gb-intel-sc1",
        location="sao",
        price=0.099,
        cpu=4,
        memory=8.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=180,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-12gb-intel",
        location="ewr",
        price=0.099,
        cpu=4,
        memory=12.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=260,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-6c-16gb",
        location="ewr",
        price=0.11,
        cpu=6,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=320,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-2c-16g-4vram",
        location="ewr",
        price=0.118,
        cpu=2,
        memory=16.0,
        gpu_count=0,
        gpu_name="A16",
        gpu_memory=4,
        spot=False,
        disk_size=80,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a100-1c-6g-4vram",
        location="ewr",
        price=0.123,
        cpu=1,
        memory=6.0,
        gpu_count=0,
        gpu_name="A100",
        gpu_memory=4,
        spot=False,
        disk_size=70,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vhf-4c-16gb",
        location="ewr",
        price=0.132,
        cpu=4,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=384,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-8c-16gb-amd",
        location="ewr",
        price=0.132,
        cpu=8,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=350,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-8c-16gb-intel",
        location="ewr",
        price=0.132,
        cpu=8,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=350,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-2c-10g-4vram",
        location="ewr",
        price=0.144,
        cpu=2,
        memory=10.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=4,
        spot=False,
        disk_size=180,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vhp-4c-12gb-amd-sc1",
        location="sao",
        price=0.148,
        cpu=4,
        memory=12.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=260,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-4c-12gb-intel-sc1",
        location="sao",
        price=0.148,
        cpu=4,
        memory=12.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=260,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vbm-4c-32gb",
        location="ewr",
        price=0.16,
        cpu=4,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=240,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-6c-16gb-sc1",
        location="sao",
        price=0.164,
        cpu=6,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=320,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-4c-16gb-sc1",
        location="sao",
        price=0.197,
        cpu=4,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=384,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-6c-24gb",
        location="ewr",
        price=0.197,
        cpu=6,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=448,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-8c-16gb-amd-sc1",
        location="sao",
        price=0.197,
        cpu=8,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=350,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-12c-24gb-amd",
        location="ewr",
        price=0.197,
        cpu=12,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=500,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-8c-16gb-intel-sc1",
        location="sao",
        price=0.197,
        cpu=8,
        memory=16.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=350,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-12c-24gb-intel",
        location="ewr",
        price=0.197,
        cpu=12,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=500,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-8c-32gb",
        location="ewr",
        price=0.219,
        cpu=8,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=640,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-3c-32g-8vram",
        location="ewr",
        price=0.236,
        cpu=3,
        memory=32.0,
        gpu_count=0,
        gpu_name="A16",
        gpu_memory=8,
        spot=False,
        disk_size=170,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a100-1c-12g-8vram",
        location="ewr",
        price=0.247,
        cpu=1,
        memory=12.0,
        gpu_count=0,
        gpu_name="A100",
        gpu_memory=8,
        spot=False,
        disk_size=140,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-6c-32gb",
        location="ewr",
        price=0.25,
        cpu=6,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=960,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-8c-32gb",
        location="ewr",
        price=0.263,
        cpu=8,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=512,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-4c-20g-8vram",
        location="ewr",
        price=0.288,
        cpu=4,
        memory=20.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=8,
        spot=False,
        disk_size=360,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vhf-6c-24gb-sc1",
        location="sao",
        price=0.296,
        cpu=6,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=448,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-12c-24gb-amd-sc1",
        location="sao",
        price=0.296,
        cpu=12,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=500,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhp-12c-24gb-intel-sc1",
        location="sao",
        price=0.296,
        cpu=12,
        memory=24.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=500,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vc2-8c-32gb-sc1",
        location="sao",
        price=0.329,
        cpu=8,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=640,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a100-2c-15g-10vram",
        location="ewr",
        price=0.342,
        cpu=2,
        memory=15.0,
        gpu_count=0,
        gpu_name="A100",
        gpu_memory=10,
        spot=False,
        disk_size=170,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vhf-12c-48gb",
        location="ewr",
        price=0.351,
        cpu=12,
        memory=48.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=768,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-8c-32gb-sc1",
        location="sao",
        price=0.395,
        cpu=8,
        memory=32.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=512,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-6c-30g-12vram",
        location="ewr",
        price=0.432,
        cpu=6,
        memory=30.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=12,
        spot=False,
        disk_size=550,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vc2-16c-64gb",
        location="ewr",
        price=0.438,
        cpu=16,
        memory=64.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1280,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vhf-16c-58gb",
        location="ewr",
        price=0.438,
        cpu=16,
        memory=58.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1024,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-6c-64g-16vram",
        location="ewr",
        price=0.471,
        cpu=6,
        memory=64.0,
        gpu_count=1,
        gpu_name="A16",
        gpu_memory=16,
        spot=False,
        disk_size=350,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-8c-132gb",
        location="ewr",
        price=0.48,
        cpu=8,
        memory=128.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1920,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vbm-8c-132gb-v2",
        location="ewr",
        price=0.48,
        cpu=8,
        memory=128.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1920,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-8c-40g-16vram",
        location="lax",
        price=0.575,
        cpu=8,
        memory=40.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=16,
        spot=False,
        disk_size=740,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a100-3c-30g-20vram",
        location="ewr",
        price=0.616,
        cpu=3,
        memory=30.0,
        gpu_count=0,
        gpu_name="A100",
        gpu_memory=20,
        spot=False,
        disk_size=700,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vc2-16c-64gb-sc1",
        location="sao",
        price=0.658,
        cpu=16,
        memory=64.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1280,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a40-12c-60g-24vram",
        location="lax",
        price=0.856,
        cpu=12,
        memory=60.0,
        gpu_count=0,
        gpu_name="A40",
        gpu_memory=24,
        spot=False,
        disk_size=1110,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vc2-24c-96gb",
        location="ewr",
        price=0.877,
        cpu=24,
        memory=96.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1600,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-12c-128g-32vram",
        location="ewr",
        price=0.942,
        cpu=12,
        memory=128.0,
        gpu_count=2,
        gpu_name="A16",
        gpu_memory=32,
        spot=False,
        disk_size=700,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-24c-256gb-amd",
        location="ewr",
        price=0.99,
        cpu=24,
        memory=256.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=480,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vbm-24c-384gb-amd",
        location="sea",
        price=1.13,
        cpu=24,
        memory=384.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=480,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a100-6c-60g-40vram",
        location="ewr",
        price=1.199,
        cpu=6,
        memory=60.0,
        gpu_count=1,
        gpu_name="A100",
        gpu_memory=40,
        spot=False,
        disk_size=1400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vc2-24c-96gb-sc1",
        location="sao",
        price=1.315,
        cpu=24,
        memory=96.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=1600,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-l40s-16c-180g-48vram",
        location="ewr",
        price=1.671,
        cpu=16,
        memory=180.0,
        gpu_count=1,
        gpu_name="L40S",
        gpu_memory=48,
        spot=False,
        disk_size=1200,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a40-24c-120g-48vram",
        location="lax",
        price=1.712,
        cpu=24,
        memory=120.0,
        gpu_count=1,
        gpu_name="A40",
        gpu_memory=48,
        spot=False,
        disk_size=1400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a16-24c-256g-64vram",
        location="ewr",
        price=1.884,
        cpu=24,
        memory=256.0,
        gpu_count=4,
        gpu_name="A16",
        gpu_memory=64,
        spot=False,
        disk_size=1200,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-32c-755gb-amd",
        location="atl",
        price=1.99,
        cpu=32,
        memory=768.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=480,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a100-12c-120g-80vram",
        location="ewr",
        price=2.397,
        cpu=12,
        memory=120.0,
        gpu_count=2,
        gpu_name="A100",
        gpu_memory=80,
        spot=False,
        disk_size=1400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-l40s-32c-375g-96vram",
        location="ewr",
        price=3.342,
        cpu=32,
        memory=375.0,
        gpu_count=2,
        gpu_name="L40S",
        gpu_memory=96,
        spot=False,
        disk_size=2200,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a16-48c-496g-128vram",
        location="ewr",
        price=3.767,
        cpu=48,
        memory=496.0,
        gpu_count=8,
        gpu_name="A16",
        gpu_memory=128,
        spot=False,
        disk_size=1500,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a100-24c-240g-160vram",
        location="ewr",
        price=4.795,
        cpu=24,
        memory=240.0,
        gpu_count=4,
        gpu_name="A100",
        gpu_memory=160,
        spot=False,
        disk_size=1400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-l40s-64c-750g-192vram",
        location="ewr",
        price=6.684,
        cpu=64,
        memory=750.0,
        gpu_count=4,
        gpu_name="L40S",
        gpu_memory=192,
        spot=False,
        disk_size=2600,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-128c-2048gb-amd",
        location="fra",
        price=7.53,
        cpu=128,
        memory=2048.0,
        gpu_count=0,
        gpu_name=None,
        gpu_memory=None,
        spot=False,
        disk_size=480,
        gpu_vendor=None,
    ),
    RawCatalogItem(
        instance_name="vcg-a16-96c-960g-256vram",
        location="lhr",
        price=7.534,
        cpu=96,
        memory=960.0,
        gpu_count=16,
        gpu_name="A16",
        gpu_memory=256,
        spot=False,
        disk_size=1700,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-a100-48c-480g-320vram",
        location="ewr",
        price=9.589,
        cpu=48,
        memory=480.0,
        gpu_count=8,
        gpu_name="A100",
        gpu_memory=320,
        spot=False,
        disk_size=1400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-48c-1024gb-4-a100-gpu",
        location="ewr",
        price=9.59,
        cpu=48,
        memory=1024.0,
        gpu_count=4,
        gpu_name="A100",
        gpu_memory=160,
        spot=False,
        disk_size=450,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vcg-l40s-128c-1500g-384vram",
        location="ewr",
        price=13.368,
        cpu=128,
        memory=1500.0,
        gpu_count=8,
        gpu_name="L40S",
        gpu_memory=384,
        spot=False,
        disk_size=3400,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-256c-2048gb-8-mi300x-gpu",
        location="ord",
        price=16.13,
        cpu=128,
        memory=2267.50390625,
        gpu_count=8,
        gpu_name="MI300X",
        gpu_memory=1536,
        spot=False,
        disk_size=3576,
        gpu_vendor="amd",
    ),
    RawCatalogItem(
        instance_name="vbm-64c-2048gb-8-l40-gpu",
        location="ewr",
        price=16.44,
        cpu=64,
        memory=2048.0,
        gpu_count=8,
        gpu_name="L40",
        gpu_memory=384,
        spot=False,
        disk_size=480,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-112c-2048gb-8-a100-gpu",
        location="atl",
        price=20.62,
        cpu=112,
        memory=2048.0,
        gpu_count=8,
        gpu_name="A100",
        gpu_memory=320,
        spot=False,
        disk_size=960,
        gpu_vendor="nvidia",
    ),
    RawCatalogItem(
        instance_name="vbm-112c-2048gb-8-h100-gpu",
        location="sea",
        price=22.02,
        cpu=112,
        memory=2048.0,
        gpu_count=8,
        gpu_name="H100",
        gpu_memory=640,
        spot=False,
        disk_size=960,
        gpu_vendor="nvidia",
    ),
]


@pytest.fixture
def mock_fetch_offers(mocker):
    return mocker.patch("gpuhunt.providers.vultr.fetch_offers", return_value=machine_types)


def test_vultr_provider_get(mock_fetch_offers):
    catalog = Catalog(balance_resources=False, auto_reload=False)
    vultr = VultrProvider()
    internal_catalog.ONLINE_PROVIDERS = ["vultr"]
    internal_catalog.OFFLINE_PROVIDERS = []
    catalog.add_provider(vultr)
    query_result = catalog.query(provider=["vultr"], min_gpu_count=2, max_gpu_count=4)
    assert len(query_result) >= 1, "No offers found"
